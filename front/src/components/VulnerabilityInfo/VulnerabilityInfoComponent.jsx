import React from 'react';
import '../styles/StyleVulnerabilityPage.scss';
import { useLocation } from 'react-router-dom';
import Data from '../../data/results.json'

function VulnerabilityInfoComponent(props) {
    const data = props.currentVulnerability

    console.log(data.reference)
    const tags = data.tags


    return (
        <div className="Vulnerability__info">
            <h2 className="vulnerability__title">{data.name}</h2>
            <p className="info_item vulnerability__lvl">Confidence: <span className='main__lvl'>{data.confidence}</span></p>
            <p className="info_item vulnerability__lvl">Risc: <span className='main__lvl'>{data.risk}</span></p>
            <p className="info_item vulnerability__source">Source: <span className='mainPage__source'>{data.url}</span></p>
            <p className="vulnerability__description">
                {data.description}
                <br />
                {data.other}
                <br />
                {data.evidence}
            </p>
            <p className="info_item vulnerability__solution">Solution: <span className='main__solution'>{data.solution}</span></p>
            <div className="info_item Additional__info">
                <p className="info_item info__parameter">Id: <span className='main__parameter'>{data.id}</span></p>
                <p className="info_item info__parameter">Method: <span className='main__parameter'>{data.method}</span></p>
                <p className="info_item info__parameter">PluginId: <span className='main__parameter'>{data.pluginId}</span></p>
                <p className="info_item info__parameter">Cweid: <span className='main__parameter'>{data.cweid}</span></p>
                <p className="info_item info__parameter">SourceId: <span className='main__parameter'>{data.sourceid}</span></p>
                <p className="info_item info__parameter">AlertRef: <span className='main__parameter'>{data.sourceid}</span></p>
                <p className="info_item info__parameter">MessageId: <span className='main__parameter'>{data.messageId}</span></p>
                <p className="info_item info__parameter">Wascid: <span className='main__parameter'>{data.wascid}</span></p>
            </div>
            <p className="info_item vulnerability__alert">Alert: <span className='main__alert'>{data.alert}</span></p>
            <div className="vulnerability__tags__list">
                <p className="vulnerability__tags info_item">Tags:</p>
                {Object.entries(tags).map((item, key) => 
                    <p className='info_item main__tag'>
                        {item[0]}: 
                        <span className='main__parameter tag__contact'>{item[1]}</span>
                    </p>
                )}
            </div>
            <div className="references_list">
                <p className="info_item reference__p">
                    Reference:
                </p>
                    <p className='main__parameter main__reference'>{data.reference}</p>
            </div>
        </div>
    )


}

export default VulnerabilityInfoComponent;
