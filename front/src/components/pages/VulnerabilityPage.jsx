import React from 'react';
import '../styles/StyleVulnerabilityList.scss';
import { Link, useLocation } from 'react-router-dom';
import Data from '../../data/results.json'
import VulnerabilityInfoComponent from '../VulnerabilityInfo/VulnerabilityInfoComponent';

function VulnerabilityPage() {

    const location = useLocation();
    const url = location.pathname;
    const splitURL = url.split('/');
    const VulnerabilityId = Number(splitURL[2]);
    const currentVulnerability = Data.find((item) => item.id == VulnerabilityId);

    console.log(VulnerabilityId)
    console.log(currentVulnerability)

    return (
        <section className="VulnerabilityPage">
            <div className="container">
                <div className="VulnerabilityPage__content">
                    <div className="VulnerabilityPage__main_content">
                        <header className="VulnerabilityPage__header">
                            <Link className='to_load_btn' to="/">
                                <button className="back__button">
                                    Back
                                </button>
                            </Link>
                            <h1 className='LoadingPage__logo'><span className='logo__purple'>Web</span>Check</h1>
                        </header>
                        <VulnerabilityInfoComponent currentVulnerability={currentVulnerability} />

                    </div>
                </div>
            </div>
        </section>
    )


}

export default VulnerabilityPage;
